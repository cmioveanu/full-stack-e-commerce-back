(this["webpackJsonpworkout-app-frontend"]=this["webpackJsonpworkout-app-frontend"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={cart:"Cart_cart__H9gdr",outerContainer:"Cart_outerContainer__29PHh",innerContainer:"Cart_innerContainer__3ObQI",productsContainer:"Cart_productsContainer__Mwx7K",decrement:"Cart_decrement__MI9HL",increment:"Cart_increment__1RtzL",removeButton:"Cart_removeButton__e0CmX",product:"Cart_product__1-Epm",productName:"Cart_productName__QMUvL",productInfo:"Cart_productInfo__3Nze3",productQuantity:"Cart_productQuantity__1lTf4",checkoutSection:"Cart_checkoutSection__3uMpo",checkoutButton:"Cart_checkoutButton__3hGOH",productsInCart:"Cart_productsInCart__2k3o2"}},,,,,function(e,t,n){e.exports={mainNav:"Header_mainNav__1l5y7",logo:"Header_logo__30C5C",cart:"Header_cart__1pRyT",mobileNav:"Header_mobileNav__39lmy",mobileNavInner:"Header_mobileNavInner__3DSp-",linksContainer:"Header_linksContainer__Lwc6x",cartAndMobileMenu:"Header_cartAndMobileMenu__21gwe"}},,function(e,t,n){e.exports={ordersHistory:"Orders_ordersHistory__2oU5y",individualOrder:"Orders_individualOrder__bg0MN",orderDetails:"Orders_orderDetails__4kc13",orderId:"Orders_orderId__20hx3",productDetails:"Orders_productDetails__2_w1c",productName:"Orders_productName__DRhzy"}},,,,function(e,t,n){e.exports={account:"Account_account__20if9",overview:"Account_overview__1Ik4H",editPara:"Account_editPara__3vqh7",message:"Account_message__3rJv8"}},,,,function(e,t,n){e.exports={productsContainer:"Products_productsContainer__2OV6u",products:"Products_products__2zG_O",individualProduct:"Products_individualProduct__3qzXX"}},function(e,t,n){e.exports={container:"IndividualProduct_container__MkCsC",innerContainer:"IndividualProduct_innerContainer__2WZtS",goBack:"IndividualProduct_goBack__2__mJ"}},,,,,,,function(e,t,n){e.exports={register:"Register_register__2n_jO",alert:"Register_alert__3LCNn"}},function(e,t,n){e.exports={editDetailsContainer:"EditDetails_editDetailsContainer__3ZD4Q"}},function(e,t,n){e.exports={about:"About_about__1aMJC",firstHeader:"About_firstHeader__141qV"}},,,,,function(e,t,n){e.exports={bannerContainer:"Banner_bannerContainer__3rw6_"}},function(e,t,n){e.exports={footer:"Footer_footer__3ONt-"}},function(e,t,n){e.exports={login:"Login_login__2D6r-"}},function(e,t,n){e.exports={contact:"Contact_contact__3Wj0T"}},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(23),s=n.n(a),i=(n(48),n(49),n(5)),o=n(6),l=n(7),d=n(2),u=n(15),j=n.n(u),b=n(16),h=Object(b.b)({name:"login",initialState:{loggedIn:!1},reducers:{logIn:function(e){e.loggedIn=!0},logOut:function(e){e.loggedIn=!1}}}),p=h.actions,O=p.logIn,x=p.logOut,m=h.reducer,f=n(3),g=n.n(f),v=n(8),y=n(10),w=n.n(y),_=n(27),C=n(22),k=Object(b.b)({name:"cart",initialState:{productsInCart:[],numberOfItems:0,totalCost:0},reducers:{addToCart:function(e,t){var n=Object(C.a)(e.productsInCart),c=Object(_.a)({},t.payload),r=n.findIndex((function(e){return e.id===c.id}));-1===r?(c.quantity=1,e.productsInCart=[].concat(Object(C.a)(n),[c])):(n[r].quantity++,e.productsInCart=n);e.numberOfItems++,e.totalCost+=parseFloat(t.payload.unit_price)},removeFromCart:function(e,t){var n=Object(C.a)(e.productsInCart),c=Object(_.a)({},t.payload),r=n.findIndex((function(e){return e.id===c.id})),a=n[r];if(1===a.quantity){var s=n.filter((function(e){return e.id!==c.id}));e.productsInCart=s}else a.quantity--,e.productsInCart=n;e.numberOfItems--;var i=e.totalCost-=parseFloat(t.payload.unit_price);i<0&&(i=0),e.totalCost=i},removeAllFromCart:function(e,t){var n=Object(C.a)(e.productsInCart),c=Object(_.a)({},t.payload),r=n.findIndex((function(e){return e.id===c.id})),a=n[r];e.numberOfItems-=a.quantity;var s=e.totalCost-parseFloat(a.quantity*a.unit_price);s<0&&(s=0),e.totalCost=s,e.productsInCart=e.productsInCart.filter((function(e){return e.id!==t.payload.id}))}}}),N=k.actions,S=N.addToCart,I=N.removeFromCart,P=N.removeAllFromCart,q=k.reducer,T={img1:n.p+"static/media/img1.663e08fc.jpg",img2:n.p+"static/media/img2.6b706196.jpg",img3:n.p+"static/media/img3.eff75815.jpg",img4:n.p+"static/media/img4.3818a2e9.jpg",white1:n.p+"static/media/white1.41d9ce02.jpg",white2:n.p+"static/media/white2.e13a6ccb.jpg",white3:n.p+"static/media/white3.6e922922.jpg",white4:n.p+"static/media/white4.e30594ff.jpg",banner:n.p+"static/media/banner.0ef29921.jpg"},A=n(39),E=n(0),F=Object(A.a)("pk_test_51IiLWaFmwWJ3Dyfc6Tg7PKSoEcaNMTO62LGjrNBCh3YJ34LGDqdaytDx8gCOwe3Czk8HdCMy7MKtCWsl5k54cnwc00CtddBNIs"),D=function(e){var t=Object(i.b)(),n=Object(i.c)((function(e){return e.cart.productsInCart})),r=Object(i.c)((function(e){return e.cart.numberOfItems})),a=Object(i.c)((function(e){return e.cart.totalCost})),s=Object(i.c)((function(e){return e.products.individualProductOpen}));Object(c.useEffect)((function(){if(!s)return document.body.style.overflow="hidden",document.body.style.marginRight="14px",function(){document.body.style.overflow="unset",document.body.style.marginRight="unset"}}));var o=function(){var e=Object(v.a)(g.a.mark((function e(){var t,c,r,a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.map((function(e){return{price_data:{currency:"gbp",product_data:{name:e.name},unit_amount:Math.round(100*e.unit_price)},quantity:e.quantity}})),c=n.map((function(e){return{id:e.id,quantity:e.quantity}})),e.prev=2,e.next=5,F;case 5:return r=e.sent,e.next=8,fetch("api/checkout/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({products:t,productIds:c})});case 8:return a=e.sent,e.next=11,a.json();case 11:return s=e.sent,e.next=14,r.redirectToCheckout({sessionId:s.id});case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}();return Object(E.jsx)("section",{className:w.a.cart,children:Object(E.jsxs)("div",{className:w.a.innerContainer,children:[Object(E.jsxs)("div",{className:w.a.productsInCart,children:[Object(E.jsxs)("p",{children:[r," item(s) in your cart"]}),Object(E.jsx)("button",{onClick:e.toggleCart,children:"X"})]}),Object(E.jsx)("div",{className:w.a.productsContainer,children:n.map((function(e){return Object(E.jsxs)("div",{className:w.a.product,children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:T["white".concat(e.id)],alt:e.name})}),Object(E.jsxs)("div",{className:w.a.productInfo,children:[Object(E.jsxs)("p",{className:w.a.productName,children:[e.name," ",Object(E.jsx)("br",{})]}),Object(E.jsxs)("p",{className:w.a.productQuantity,children:[e.quantity," x \xa3",e.unit_price]}),Object(E.jsx)("button",{className:w.a.decrement,onClick:function(){return t(I(e))},children:"-"}),e.quantity,Object(E.jsx)("button",{className:w.a.increment,onClick:function(){return t(S(e))},children:"+"}),Object(E.jsx)("button",{onClick:function(){return t(P(e))},className:w.a.removeButton,children:"REMOVE"})]})]},e.id)}))}),Object(E.jsxs)("div",{className:w.a.checkoutSection,children:[Object(E.jsxs)("p",{children:["SUBTOTAL: \xa3",a.toFixed(2)]}),Object(E.jsx)("button",{className:w.a.checkoutButton,onClick:o,children:"Checkout"})]})]})})},M=function(){var e=Object(i.c)((function(e){return e.login.loggedIn})),t=Object(i.c)((function(e){return e.cart.numberOfItems})),n=Object(i.b)(),r=Object(c.useState)(!1),a=Object(d.a)(r,2),s=a[0],l=a[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),h=b[0],p=b[1],O=function(){try{fetch("api/account/logout"),n(x())}catch(e){console.error("Unable to log out",e)}l(!1)},m=function(){l(!1)},f=function(){p(!h)};return Object(E.jsxs)("header",{children:[Object(E.jsxs)("nav",{className:j.a.mainNav,children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("h1",{className:j.a.logo,children:Object(E.jsx)(o.b,{to:"/",children:"The Wooden Shop"})}),Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/products",children:"Products"})}),Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/about",children:"About"})}),Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/contact",children:"Contact"})})]})]}),Object(E.jsxs)("ul",{children:[e?Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/login",onClick:O,children:"Log out"})}):Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/login",children:"Login"})}),e?Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/account",children:"Account"})}):null,Object(E.jsx)("li",{onClick:f,children:Object(E.jsxs)("span",{className:j.a.cart,children:["Cart: ",t]})})]}),Object(E.jsxs)("ul",{className:j.a.cartAndMobileMenu,children:[Object(E.jsx)("li",{onClick:f,children:Object(E.jsxs)("span",{className:j.a.cart,children:["Cart: ",t]})}),Object(E.jsx)("li",{children:Object(E.jsxs)("svg",{viewBox:"0 0 100 80",width:"40",height:"40","data-testid":"openMenuButton",onClick:function(){return l(!0)},children:[Object(E.jsx)("rect",{width:"100",height:"10"}),Object(E.jsx)("rect",{y:"30",width:"100",height:"10"}),Object(E.jsx)("rect",{y:"60",width:"100",height:"10"})]})})]})]}),s?Object(E.jsx)("nav",{className:j.a.mobileNav,children:Object(E.jsxs)("div",{className:j.a.mobileNavInner,children:[Object(E.jsx)("button",{onClick:function(){return l(!1)},children:"X"}),Object(E.jsx)("div",{className:j.a.linksContainer,children:Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/products",onClick:m,children:"Products"})}),Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/about",onClick:m,children:"About"})}),Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/contact",onClick:m,children:"Contact"})}),e?Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/login",onClick:O,children:"Log out"})}):Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/login",onClick:m,children:"Login"})}),e?Object(E.jsx)("li",{children:Object(E.jsx)(o.b,{to:"/account",onClick:m,children:"Account"})}):null]})})]})}):null,h?Object(E.jsx)(D,{toggleCart:f}):null]})},U=n(40),W=n.n(U),H=function(){return Object(E.jsxs)("main",{className:W.a.bannerContainer,children:[Object(E.jsx)("img",{src:T.banner,alt:"Sunglasses on dark background"}),Object(E.jsxs)("hgroup",{children:[Object(E.jsx)("h2",{children:"Stylish. Elegant. Unique."}),Object(E.jsx)("h3",{children:"Beautiful eco-friendly accesories"}),Object(E.jsx)("h4",{children:Object(E.jsx)("button",{children:Object(E.jsx)(o.b,{to:"/products",children:"See our products"})})})]})]})},L=n(25),B=n.n(L),J=n(26),R=n.n(J),z=Object(b.b)({name:"products",initialState:{individualProductOpen:!1},reducers:{toggleOpen:function(e){var t=e.individualProductOpen;e.individualProductOpen=!t}}}),Q=z.actions.toggleOpen,G=z.reducer,X=function(e){var t=Object(c.useState)({}),n=Object(d.a)(t,2),r=n[0],a=n[1],s=Object(i.b)(),o=e.product;return Object(c.useEffect)((function(){(function(){var e=Object(v.a)(g.a.mark((function e(){var t,n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="sunglasses"===o.type?"sunglasses":"watches",e.prev=1,e.next=4,fetch("api/products/"+t+"/"+o.id);case 4:return n=e.sent,e.next=7,n.json();case 7:c=e.sent,a(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Unable to get product details",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[o.id,o.type]),Object(c.useEffect)((function(){return document.body.style.overflow="hidden",document.body.style.marginRight="14px",function(){document.body.style.overflow="unset",document.body.style.marginRight="unset",s(Q())}}),[s]),Object(E.jsx)("section",{className:R.a.container,children:Object(E.jsxs)("div",{className:R.a.innerContainer,children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:T["white".concat(o.id)],alt:o.name})}),Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{className:R.a.goBack,onClick:e.toggle,children:"<< go back"}),Object(E.jsx)("h2",{children:o.name}),Object(E.jsx)("p",{children:o.description}),Object(E.jsx)("button",{onClick:function(){return s(S(o))},children:"Add to cart"}),Object(E.jsx)("h3",{children:"Specifications:"}),"sunglasses"===o.type?Object(E.jsx)("table",{children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"colour:"}),Object(E.jsx)("td",{children:r.sunglasses_colour})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"polarised:"}),Object(E.jsx)("td",{children:r.polarised?"yes":"no"})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"UV protection:"}),Object(E.jsx)("td",{children:r.protection})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"anti-glare:"}),Object(E.jsx)("td",{children:r.anti_glare?"yes":"no"})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"anti-reflective:"}),Object(E.jsx)("td",{children:r.anti_reflective?"yes":"no"})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"frame material:"}),Object(E.jsx)("td",{children:r.frame_material})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"lens material:"}),Object(E.jsx)("td",{children:r.lens_material})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"lens height:"}),Object(E.jsx)("td",{children:r.lens_height})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"lens width:"}),Object(E.jsx)("td",{children:r.lens_width})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"frame width:"}),Object(E.jsx)("td",{children:r.frame_width})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"leg length:"}),Object(E.jsx)("td",{children:r.leg_length})]})]})}):Object(E.jsx)("table",{children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"colour:"}),Object(E.jsx)("td",{children:r.watches_colour})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"movement:"}),Object(E.jsx)("td",{children:r.movement})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"stopwatch:"}),Object(E.jsx)("td",{children:r.stopwatch?"yes":"no"})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"waterproof:"}),Object(E.jsx)("td",{children:r.waterproof})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"date:"}),Object(E.jsx)("td",{children:r.date?"yes":"no"})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"dial diameter:"}),Object(E.jsx)("td",{children:r.dial_diameter})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"dial material:"}),Object(E.jsx)("td",{children:r.dial_material})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"band material:"}),Object(E.jsx)("td",{children:r.band_material})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"band width:"}),Object(E.jsx)("td",{children:r.band_width})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"band links:"}),Object(E.jsx)("td",{children:r.band_links})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:"clasp type:"}),Object(E.jsx)("td",{children:r.clasp_type})]})]})})]})]})})},Y=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(d.a)(a,2),o=s[0],l=s[1],u=Object(c.useState)(null),j=Object(d.a)(u,2),b=j[0],h=j[1],p=Object(i.b)();Object(c.useEffect)((function(){(function(){var e=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/products");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Unable to get products list",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var O=function(e){l(!o),e&&h(e),p(Q())};return Object(E.jsxs)("main",{className:B.a.productsContainer,children:[Object(E.jsx)("h2",{children:"Our Products:"}),Object(E.jsx)("div",{"data-testid":"product",className:B.a.products,children:n.map((function(e){return Object(E.jsx)("div",{className:B.a.individualProduct,children:Object(E.jsxs)("div",{onClick:function(){return O(e)},children:[Object(E.jsx)("img",{src:T["img".concat(e.id)],alt:e.name}),Object(E.jsx)("h3",{children:e.name})]})},e.id)}))}),o?Object(E.jsx)(X,{product:b,toggle:O}):null]})},V=n(41),K=n.n(V),Z=function(){return Object(E.jsxs)("footer",{className:K.a.footer,children:[Object(E.jsxs)("p",{children:["Here at ",Object(E.jsx)("span",{children:"The Wooden "})," we simply love wood for its traditional and stylish appearance, so we try our best to offer you the highest quality watches and sunglasses."]}),Object(E.jsx)("small",{children:"\xa9 2021 - The Wooden Shop"})]})},$=n(42),ee=n.n($),te=function(){var e=Object(i.c)((function(e){return e.login.loggedIn})),t=Object(c.useState)(""),n=Object(d.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),u=Object(d.a)(s,2),j=u[0],b=u[1],h=Object(i.b)(),p=Object(l.g)();if(e)return Object(E.jsx)(l.a,{to:"/account"});var x=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("api/account/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:j})});case 4:200===e.sent.status&&(h(O()),p.push("/")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Unable to log in",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("main",{className:ee.a.login,children:Object(E.jsxs)("form",{onSubmit:x,action:"",children:[Object(E.jsx)("label",{htmlFor:"username",children:"Email:"}),Object(E.jsx)("input",{type:"email",name:"username",id:"username",required:!0,onChange:function(e){return a(e.target.value)}}),Object(E.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(E.jsx)("input",{type:"password",name:"password",id:"password",required:!0,onChange:function(e){return b(e.target.value)}}),Object(E.jsx)("button",{type:"submit",children:"Log In"}),Object(E.jsxs)("p",{children:["Don't have an account? ",Object(E.jsx)(o.b,{to:"/register",children:"Register here."})]})]})})},ne=n(33),ce=n.n(ne),re=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(d.a)(a,2),i=s[0],l=s[1],u=Object(c.useState)(""),j=Object(d.a)(u,2),b=j[0],h=j[1],p=Object(c.useState)(""),O=Object(d.a)(p,2),x=O[0],m=O[1],f=Object(c.useState)(""),y=Object(d.a)(f,2),w=y[0],_=y[1],C=Object(c.useState)(""),k=Object(d.a)(C,2),N=k[0],S=k[1],I=Object(c.useState)(""),P=Object(d.a)(I,2),q=P[0],T=P[1],A=function(){var e=Object(v.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),i!==b){e.next=14;break}return e.prev=2,e.next=5,fetch("api/account/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:i,firstName:x,lastName:w,phone:N})});case 5:403===(c=e.sent).status?T("Email already exists. Please log in."):201===c.status&&T("User created, you can log in now."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Unable to register new account",e.t0);case 12:e.next=15;break;case 14:T("Password fields don't match. Try again.");case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("main",{className:ce.a.register,children:Object(E.jsxs)("form",{onSubmit:A,action:"",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{htmlFor:"username",children:"Email:"}),Object(E.jsx)("input",{id:"username",type:"email",required:!0,onChange:function(e){return r(e.target.value)}}),Object(E.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(E.jsx)("input",{id:"password",type:"password",required:!0,onChange:function(e){return l(e.target.value)}}),Object(E.jsx)("label",{htmlFor:"passwordConfirm",children:"Confirm Password:"}),Object(E.jsx)("input",{id:"passwordConfirm",type:"password",required:!0,onChange:function(e){return h(e.target.value)}})]}),Object(E.jsxs)("div",{children:[Object(E.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(E.jsx)("input",{id:"firstName",type:"text",required:!0,onChange:function(e){return m(e.target.value)}}),Object(E.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(E.jsx)("input",{id:"lastName",type:"text",required:!0,onChange:function(e){return _(e.target.value)}}),Object(E.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number:"}),Object(E.jsx)("input",{id:"phoneNumber",type:"tel",required:!0,onChange:function(e){return S(e.target.value)}}),Object(E.jsx)("button",{type:"submit",children:"Register"}),Object(E.jsx)("p",{className:ce.a.alert,children:q}),Object(E.jsxs)("p",{children:["Already have an account? ",Object(E.jsx)(o.b,{to:"/login",children:"Log in here."})]})]})]})})},ae=n(21),se=n.n(ae),ie=n(17),oe=n.n(ie),le=function(e){var t=e.slice(0,4),n=e.slice(8,10),c=e.slice(5,7);return"0"===c.charAt(0)&&(c=c.charAt(1)),c=[null,"January","February","March","April","May","June","July","August","September","November","December"][c],"".concat(n," ").concat(c," ").concat(t)},de=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("api/orders");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Unable to fetch orders",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(E.jsx)("section",{className:oe.a.ordersHistory,children:n.map((function(e){return Object(E.jsxs)("div",{className:oe.a.individualOrder,children:[Object(E.jsxs)("div",{className:oe.a.orderDetails,children:[Object(E.jsxs)("p",{className:oe.a.orderId,children:["# ",e[0].order_id," - ",e[0].status]}),Object(E.jsx)("p",{children:le(e[0].created_at)}),Object(E.jsxs)("p",{children:["Total: \xa3",e[0].totalOrderAmount]})]}),e.map((function(e){return Object(E.jsxs)("div",{className:oe.a.productDetails,children:[Object(E.jsx)("img",{src:T["img".concat(e.product_id)],alt:e.name}),Object(E.jsxs)("div",{children:[Object(E.jsx)("p",{className:oe.a.productName,children:e.name}),Object(E.jsxs)("p",{children:[e.quantity," x \xa3",e.unit_price]})]})]},e.product_id+"product")}))]},e[0].order_id+e[0].product_id)}))})},ue=n(34),je=n.n(ue),be=function(e){var t=Object(c.useState)(""),n=Object(d.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(c.useState)(""),j=Object(d.a)(u,2),b=j[0],h=j[1],p=Object(c.useState)(""),O=Object(d.a)(p,2),x=O[0],m=O[1],f=Object(c.useState)(""),y=Object(d.a)(f,2),w=y[0],_=y[1],C=Object(c.useState)(""),k=Object(d.a)(C,2),N=k[0],S=k[1],I=function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r!==o){e.next=14;break}return e.prev=2,e.next=5,fetch("api/account/email",{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({password:b,newEmail:r})});case 5:200===(n=e.sent).status?S("Email changed."):403===n.status&&S("Unable to change email. Please try again!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Unable to change email",e.t0);case 12:e.next=15;break;case 14:S("Emails don't match. Try again!");case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),x!==w){e.next=14;break}return e.prev=2,e.next=5,fetch("api/account/password",{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({oldPassword:b,newPassword:x})});case 5:200===(n=e.sent).status?S("Password changed."):403===n.status&&S("Unable to change password. Please try again!"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Unable to change password",e.t0);case 12:e.next=15;break;case 14:S("Passwords don't match. Try again!");case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("section",{className:je.a.editDetailsContainer,children:["email"===e.type?Object(E.jsxs)("form",{onSubmit:I,action:"",children:[Object(E.jsx)("label",{htmlFor:"passwordConfirmEmail",children:"Enter your password:"}),Object(E.jsx)("input",{id:"passwordConfirmEmail",type:"password",required:!0,onChange:function(e){return h(e.target.value)}}),Object(E.jsx)("label",{htmlFor:"newEmail",children:"New email address:"}),Object(E.jsx)("input",{id:"newEmail",type:"email",required:!0,onChange:function(e){return a(e.target.value)}}),Object(E.jsx)("label",{htmlFor:"emailConfirm",children:"Confirm new email address:"}),Object(E.jsx)("input",{id:"emailConfirm",type:"email",required:!0,onChange:function(e){return l(e.target.value)}}),Object(E.jsx)("button",{type:"submit",children:"Change email address"})]}):Object(E.jsxs)("form",{onSubmit:P,action:"",children:[Object(E.jsx)("label",{htmlFor:"oldPassword",children:"Enter old password:"}),Object(E.jsx)("input",{id:"oldPassword",type:"password",required:!0,onChange:function(e){return h(e.target.value)}}),Object(E.jsx)("label",{htmlFor:"newPassword",children:"New password:"}),Object(E.jsx)("input",{id:"newPassword",type:"password",required:!0,onChange:function(e){return m(e.target.value)}}),Object(E.jsx)("label",{htmlFor:"passwordConfirm",children:"Confirm new password:"}),Object(E.jsx)("input",{id:"passwordConfirm",type:"password",required:!0,onChange:function(e){return _(e.target.value)}}),Object(E.jsx)("button",{type:"submit",children:"Change password"})]}),Object(E.jsx)("p",{className:je.a.alert,children:N})]})},he=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(d.a)(a,2),o=s[0],l=s[1],u=Object(c.useState)(!1),j=Object(d.a)(u,2),b=j[0],h=j[1],p=Object(c.useState)(null),O=Object(d.a)(p,2),x=O[0],m=O[1],f=Object(i.c)((function(e){return e.login.loggedIn}));return Object(c.useEffect)((function(){var e=new URLSearchParams(window.location.search);(function(){var t=Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.get("success")){t.next=11;break}return m("Order placed! You will receive an email confirmation."),t.prev=2,t.next=5,fetch("api/orders/paid",{method:"GET",headers:{"Content-Type":"application/json"}});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),console.error("Unable to update order status to paid",t.t0);case 10:window.location="/account";case 11:if(!e.get("canceled")){t.next=22;break}return m("Order canceled! -- continue to shop around and checkout when you're ready."),t.prev=13,t.next=16,fetch("api/orders/delete",{method:"DELETE",headers:{"Content-Type":"application/json"}});case 16:t.next=21;break;case 18:t.prev=18,t.t1=t.catch(13),console.error("Unable to delete the canceled order",t.t1);case 21:window.location="/account";case 22:case 23:case"end":return t.stop()}}),t,null,[[2,7],[13,18]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(E.jsxs)("main",{className:se.a.account,children:[Object(E.jsxs)("section",{className:se.a.overview,children:[Object(E.jsx)("h2",{children:f?"Welcome back!":"Please log in first!"}),Object(E.jsx)("p",{className:se.a.editPara,children:"You can edit your account details or check out your order history below."}),x?Object(E.jsx)("p",{className:se.a.message,children:x}):null,Object(E.jsx)("button",{onClick:function(){r(!0),l(!1),h(!1)},children:"Order history"}),Object(E.jsx)("button",{onClick:function(){l(!0),r(!1),h(!1)},children:"Change email"}),Object(E.jsx)("button",{onClick:function(){h(!0),r(!1),l(!1)},children:"Change password"})]}),n?Object(E.jsx)(de,{}):null,o?Object(E.jsx)(be,{type:"email"}):null,b?Object(E.jsx)(be,{type:"password"}):null]})},pe=n(35),Oe=n.n(pe),xe=function(){return Object(E.jsxs)("main",{className:Oe.a.about,children:[Object(E.jsxs)("section",{children:[Object(E.jsx)("h2",{className:Oe.a.firstHeader,children:"Why choose The Wooden Shop?"}),Object(E.jsx)("p",{children:"The Wooden Watch Shop offers eco-friendly wooden watches with stylish, modern, yet affordable designs. Unique timepieces that are hand crafted from natural wood."}),Object(E.jsx)("p",{children:"We have a variety of natural woods such as bamboo, maple, red sandalwood, zebrawood and beech."}),Object(E.jsx)("p",{children:"All watches are fitted with premium quality Japanese quartz movements and have scratchproof hardlex glass to cover the dial, which keep the watches looking in top condition. "}),Object(E.jsx)("p",{children:"We also pride ourselves on having the highest standard of customer service, giving you peace of mind that we value all our customers and will go the extra mile to make sure your shopping experience with us is a happy one!"})]}),Object(E.jsxs)("section",{children:[Object(E.jsx)("h2",{children:"What about skin allergies?"}),Object(E.jsx)("p",{children:"All watches are hypoallergenic and are made from 100% natural wood with stainless steel clasps. No toxic chemicals are used to treat the wood, in order to maintain our pledge to be as eco-friendly as possible."}),Object(E.jsx)("p",{children:"However, there is also a small possibility that some people may have an allergic reaction to the wood or metal clasps. After wearing your watch for a few weeks, it is recommended that you check your skin for any discomfort, rash, or itch. "}),Object(E.jsx)("p",{children:"In the very rare case that you experience an allergic reaction, please stop wearing the watch immediately and ask for medical advice from your doctor. We cannot offer refunds on watches based on allergies."}),Object(E.jsx)("p",{children:"Disclaimer: Wooden Watch Shop cannot guarantee against allergic reactions. We are not responsible for allergies, injuries, or medical expenses as a result of wearing the wooden watches."})]}),Object(E.jsxs)("section",{children:[Object(E.jsx)("h2",{children:"Will my watch fit?"}),Object(E.jsx)("p",{children:"Yes, all Wooden Watch Shop watches are sized to wrist watch standards. You can reduce the band length by removing links (tools are provided in the package)."}),Object(E.jsx)("p",{children:"A number of watches also contain extra links to expand the band length if needed."}),Object(E.jsx)("p",{children:"If you think you may need the watch to fit a larger than standard wrist, please contact us and we can arrange for extra links to be provided."})]}),Object(E.jsxs)("section",{children:[Object(E.jsx)("h2",{children:"Can I replace the battery?"}),Object(E.jsx)("p",{children:"All watches are either quartz battery powered or automatic self winding. For battery operated watches, if you wish to replace the battery yourself there is easy access to the battery by removing the backplate."}),Object(E.jsx)("p",{children:"Alternatively most jewelry or watch shops will provide a battery replacement service."}),Object(E.jsx)("p",{children:"Batteries should last a number of years before needing to be changed, but this will vary from watch to watch. (Please note batteries are not included in the warranty)"})]}),Object(E.jsxs)("section",{children:[Object(E.jsx)("h2",{children:" How do I care for the watch?"}),Object(E.jsx)("p",{children:"Mix two tsps each of olive oil and lemon juice, and apply to a soft cotton cloth. Apply to the wood."}),Object(E.jsx)("p",{children:" If at any time your watch looks lighter or starts to change in appearance, we recommend that you apply a natural coating such as beeswax, lip balm, butcher block oil or walnut oil. "}),Object(E.jsx)("p",{children:"Regular application can help to protect it against damage and improve the durability of the wood and help maintain the moisture balance to prevent drying or cracking."})]})]})},me=n(43),fe=n.n(me),ge=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),s=Object(d.a)(a,2),i=s[0],o=s[1],l=Object(c.useState)(""),u=Object(d.a)(l,2),j=u[0],b=u[1],h=Object(c.useState)(""),p=Object(d.a)(h,2),O=p[0],x=p[1],m=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:i,message:j})});case 4:200===e.sent.status?x("Message sent. Thank you!"):x("Message was not sent, try again."),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Unable to send email message",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsxs)("main",{className:fe.a.contact,children:[Object(E.jsx)("h2",{children:"Contact Us"}),Object(E.jsx)("p",{children:"Send us a message and we'll get back to you within 24h."}),Object(E.jsxs)("form",{onSubmit:m,method:"POST",children:[Object(E.jsx)("label",{htmlFor:"name",children:"Name:"}),Object(E.jsx)("input",{type:"text",id:"name",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(E.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(E.jsx)("input",{type:"email",id:"email",value:i,onChange:function(e){return o(e.target.value)},required:!0}),Object(E.jsx)("label",{htmlFor:"message",children:"Message:"}),Object(E.jsx)("textarea",{rows:"5",id:"message",value:j,onChange:function(e){return b(e.target.value)},required:!0}),Object(E.jsx)("button",{type:"submit",children:"Send"}),Object(E.jsx)("p",{children:O})]})]})},ve=function(){var e=Object(i.b)();return Object(c.useEffect)((function(){fetch("api/account/checkLoginStatus").then((function(t){200!==t.status&&304!==t.status||e(O())}))}),[e]),Object(E.jsx)(o.a,{children:Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(M,{}),Object(E.jsxs)(l.d,{children:[Object(E.jsx)(l.b,{exact:!0,path:"/",children:Object(E.jsx)(H,{})}),Object(E.jsx)(l.b,{exact:!0,path:"/products",children:Object(E.jsx)(Y,{})}),Object(E.jsx)(l.b,{exact:!0,path:"/about",children:Object(E.jsx)(xe,{})}),Object(E.jsx)(l.b,{eaxt:!0,path:"/contact",children:Object(E.jsx)(ge,{})}),Object(E.jsx)(l.b,{exact:!0,path:"/login",children:Object(E.jsx)(te,{})}),Object(E.jsx)(l.b,{exact:!0,path:"/register",children:Object(E.jsx)(re,{})}),Object(E.jsx)(l.b,{path:"/account",children:Object(E.jsx)(he,{})})]}),Object(E.jsx)(Z,{})]})})},ye=Object(b.a)({reducer:{login:m,cart:q,products:G}});s.a.render(Object(E.jsx)(r.a.StrictMode,{children:Object(E.jsx)(i.a,{store:ye,children:Object(E.jsx)(ve,{})})}),document.getElementById("root"))}],[[61,1,2]]]);
//# sourceMappingURL=main.8a33a326.chunk.js.map